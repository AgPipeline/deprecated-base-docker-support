language: python

python:
  - "3.7"

cache: pip

install: 
 - "pip install pytest"
 - "pip install pylint"

script:
 - "git clone https://github.com/AgPipeline/Organization-info.git"
 - "pylint --rcfile=Organization-info/pylint.rc base-image/*.py"
 - "PYTHONPATH=${PYTHONPATH}:$(dirname base-image/test-files/) \
    && pylint --rcfile=Organization-info/pylint.rc base-image/test-files/*.py"
 - "cd base-image"
 - "python -m pytest -v"